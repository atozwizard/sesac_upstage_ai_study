25 Upstage 
클라우드 배포자동화-1 
SPEAKER 
서영학 © 2025 Upstage Co., Ltd. 
2 저작권 안내 
 
(주)업스테이지가 제공하는 모든 교육 콘텐츠의 지식재산권은 
운영 주체인 (주)업스테이지 또는 해당 저작물의 적법한 관리자에게 귀속되어 있습니다. 
콘텐츠 일부 또는 전부를 복사, 복제, 판매, 재판매 공개, 공유 등을 할 수 없습니다. 
유출될 경우 지식재산권 침해에 대한 책임을 부담할 수 있습니다. 
유출에 해당하여 금지되는 행위의 예시는 다음과 같습니다. 
● 콘텐츠를 재가공하여 온/오프라인으로 공개하는 행위 
● 콘텐츠의 일부 또는 전부를 이용하여 인쇄물을 만드는 행위 
● 콘텐츠의 전부 또는 일부를 녹취 또는 녹화하거나 녹취록을 작성하는 행위 
● 콘텐츠의 전부 또는 일부를 스크린 캡쳐하거나 카메라로 촬영하는 행위 
● 지인을 포함한 제3자에게 콘텐츠의 일부 또는 전부를 공유하는 행위 
● 다른 정보와 결합하여 Upstage Education의 콘텐츠임을 알아볼 수 있는 저작물을 작성, 공개하는 행위 
● 제공된 데이터의 일부 혹은 전부를 Upstage Education 프로젝트/실습 수행 이외의 목적으로 사용하는 행위위 
3 목표: 배포 과정을 자동화하자 배포:자동화 
목차 
클라우드 서버 배포 
- 배포 
Github 을 통한 배포 자동화 
- github action 
- workﬂow 파일 작성 
- on: 트리거 
- jobs: 시킬 일 정의 
배포 branch 
- 배포 전략 (실습) 

4 클라우드 서버 배포 07 - 01 
배포란? 
배포 자동화: Github action 

5 배포란? 배포:자동화 
개발된 소프트웨어, 웹 페이지 등을 사용자들이 사용할 수 있도록 서비스하는 과정 
배포: 코드 → 제품 
- 코드 변경 내용을 서버에 반영하는 과정 
우리가 지금까지 git - github 을 통해 (clone, push, pull) 
EC2 에 웹서버를 올리고 실행하는 과정 
= 배포 과정 

6 현실 세상의 배포 배포:자동화 
달리는 차에 바퀴를 갈아 끼우는 과정 
밤낮 없이(24/7) 살아있는 서버  
언제 몰릴지 모르는 유저의 요청 
내가 짠 (이따위)코드가 나가도 돼? 
배포는 단순히 "코드 올리기"가 아니라, 안전하게, 반복 가능하게 
동일한 환경에서 서비스가 갱신되는 작업임. 
안전한 배포방법이 있을까? 

7 일관성 있는 배포의 필요성 배포:자동화 
팀원마다 배포 방법 제각각 이라면? 
● 시간 소모 
● 사람의 실수 배포 실패 가능성 (명령어 실수, 누락, 다른 브랜치 등) 
● 누가 언제 무엇을 배포했는지 모름 
● 롤백 기준 애매 
● 배포 기록 부재 
배포 과정을 자동화하자 
github 에서 제공하는 배포 자동화 도구: GitHub Actions 지금까지  배포  과정 
 코드 수정 → 로컬 개발/ 테스트 → ssh 로 EC2 접속  → 프로젝트위치  → git pull → 설치 → 서비스  재시작 
8 Github 을 통한 배포 자동화 07 - 02 
언제 실행해야할까? 
배포 단계는? 
9 GitHub Action 이란? 배포:자동화 
GitHub가 제공하는 자동화 플랫폼 
GitHub 제공 자동화 플랫폼 
push 이벤트 기반 실행 
YAML 기반 Workﬂow 
CI/CD 구현 가능 

10 GitHub Action 준비단계 배포:자동화 
개인 Repository (fork) 
(개인) 작업 repository // Fork 
(필수) 
git remote add my-origin {fork 된 주소} 
이번 시간 push 는 remote 입력 
git push my-origin {브랜치} 실습은 ORM 이전 코드로 진행 
(혹시나) DB 의존성 때문에 실습 실패할 경우가 
많을 수도 있어서 실습에선 제외하고 진행 
ec2에 docker 설치 후 
docker-compose 후 작업 진행해도 무방 github token 
workﬂow 권한 필요 
11 GitHub Secret 배포:자동화 
https://www.dailysecu.com/news/articleView.html?idxno=165043 배포 단계에서 비밀 정보 노출 위험 
github 은 오픈소스 기반이라 노출이 쉽다 
외부 서비스 접근을 위한 비밀번호, 데이터베이스 계정, 클라우드 접근 토큰 
외부 API를 사용하기 위한 API KEY  등이 들어가 있을 수 있다. 
github은 이런 비밀정보를 repository에서 안전하게(암호화) 저장할 수 있는 
비밀 저장소(Key-Value 형태)  github secret 을 가지고 있다. 

12 (실습) Repository에 github secret 등록 배포:자동화 
실습 과정 
0. fork 로 내 repo 등록 
1. secret 등록 
- repository 설정 
(주의 - 계정설정이 아님) 

13 (실습) ec2 에서 하던 작업을 스크립트로 만들기 배포:자동화 
start.sh git switch release/0.0.1 
git pull 
uv sync 
쉘 설정 
사용 중인 앱 중지 시작 (백그라운드, shell 종료해도 남도록) 
켜진 process id 기록 이 명령어를  ec2 에서 쳐보기  
수동으로  진짜 배포 되는지  체크
14 Github 을 통한 배포 자동화 
작성하기 07 - 03 
언제 실행해야할까? 
배포 단계는? 
15 Github action 배포 전체 흐름 배포:자동화 
https://tech.ktcloud.com/entry/What-is-DevOps-Github-Action 전체 배포 ‒ 협업 과정 

16 (예시) Github action 문법 둘러보기 배포:자동화 
Action → New workﬂow → Python Application (참고 예시) 
on: 배포 트리거(시작 시점) 
 jobs: 할 일들 

17 (실습) github ec2 서버 접속 배포:자동화 
파일 위치 
.github/workﬂows  폴더에 github action 파일들 
* 푸시 이벤트 발생 시 github 이 .github/workﬂows 
파일을 읽고 실행한다 
git switch release/0.0.1 
git pull 
uv sync 
18 on 스크립트: 트리거 배포:자동화 
on > push > branches 
github 은 이벤트를  인지한다  (push / pull request 등등  ) 
push 된 브랜치가  branches 의 브랜치와  맞는지  확인
push 한 branch 와 on: push: branches 가 맞아야   실행 
만약 release/0.0.1 에서 push 를 했는데  파일이  왼쪽과  같다면  
push 이벤트의  브랜치  ref = refs/heads/release/0.0.1 
branches 조건 = ["main"] 
→ 불일치  → 실행하지  않음
push 브랜치  ( 현재 브랜치 )
github 내부에서  변수로  처리 가능 
BRANCH="${{ github.ref_name }}" workflow_dispatch: 
github ui 에서 조종 가능 옵션
19 jobs 스크립트: 할 일 배포:자동화 
jobs  > deploy > steps > with 
secret 값실제 agent 가 할일 
20 (실습) github 현재 브랜치를 on push 조건에 넣고 github 배포:자동화 
실습 순서 
.github/workﬂows  폴더에 github action 파일 
deploy-ec2.yml  변경 후 푸시 (fork 된 내 branch 여야 한다) 
변경 후 커밋 푸시  (branch와 맞는 지 확인) 
* 푸시 이벤트 발생 시 github 이 .github/workﬂows 파일을 읽고 실행한다 
git switch deploy/githubaction 
git pull 
uv sync 
21 (실습) github 현재 브랜치를 on push 조건에 넣고 github 배포:자동화 
실습 순서 
git switch deploy/githubaction 
git pull 
uv sync 
22 배포 branch 07 - 04 
언제 실행해야할까? 
배포 단계는? 
23 어떤 브랜치를 배포해야할까? 배포:자동화 
잘못된 브랜치 배포 = 장애 + 롤백 지옥 
CI/CD 파이프라인은 "어떤 브랜치를 기준으로 배포할지" 명확해야 안정적 운영 가능 
팀 규모가 커질수록 브랜치 전략은 점점 중요해짐 
배포 브랜치 기준 
•항상 안정 상태를 기준으로 한다 
•미리 merge 된 코드만 배포한다 (핫픽스 제외) 
•배포 브랜치는 팀 컨벤션으로 고정해 둔다 
•"개발 중인 기능"이 섞인 브랜치는 절대 배포 금지 
24 main 브랜치 / develop 브랜치 배포:자동화 
실제 배포 대상이 되는 제품 브랜치 
main branch 는 라이브 버전 
develop branch 는 개발 버전 
develop 에서 개발이 끝나고 테스트 된 버전이 main으로 

25 release 브랜치 배포:자동화 
develop 에서 main 으로 가기 전 테스트 하는 브랜치 
개발 환경에선 잘 동작해도 
라이브 환경에서 안 될 수가 있다 
라이브 환경과 흡사한 환경에서 확인할 필요가 있는데 
그 때 사용하는 브랜치 
곧 배포 기능을 테스트는 브랜치 

26 (실습) release branch 생성 후 배포 ‒ 실제 trigger 확인 배포:자동화 
실습순서 
1. release/0.0.1 이름으로 branch 분리 
2. github action workﬂow 에 release/* 일 경우 배포 하도록 설정 
3. 간단한 커밋 후  release/0.0.1 배포 후 github action 실행확인 
4. 웹 페이지에서 수동 실행 
27 (실습) release branch 생성 후 배포 ‒ 실제 trigger 확인 배포:자동화 
실습진행 
1. release/0.0.1 이름으로 branch 분리 
2. github action workﬂow 에 release/* 일 경우 배포 하도록 설정 
 
3. 간단한 커밋 후  release/0.0.1 배포 후 github action 실행확인 
4. 웹 페이지에서 수동 실행 
git switch release/0.0.1 
git pull 
uv sync 
28 (실습) release branch 생성 후 배포 ‒ 실제 trigger 확인 배포:자동화 
실습단계 https://github.com/inspire12/upstage-network-lecture/actions/runs/19958893728/job/57234247028 
git switch release/0.0.1 
git pull 
uv sync 
29 총 정리 배포: 자동화 
배포란? 
- 개발된 소프트웨어 등이 사용자가 사용할 수 있도록 서비스하는 과정 
- 내 코드가 제품(서비스)가 되는 과정 
 
배포 자동화와 github action 
- 배포 스크립트 
- 트리거  on 
- 에이전트 할일 Jobs    with / script 
배포 Branch 
- 안정적인 배포를 위한 브랜치 전략 

www.upstage.ai © 2025 Upstage Co., Ltd. 

